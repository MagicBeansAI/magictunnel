# External MCP Servers Configuration

# Process-based MCP Servers
mcpServers:
  filesystem:
    enabled: true
    command: "npx"
    args: ["-y", "@modelcontextprotocol/server-filesystem", "/tmp", "/Users"]
    env:
      PATH: "${PATH}"

# OAuth-Enabled MCP Servers
# Automatic RFC 8414/9728 discovery - no manual scope configuration needed
oauthMcpServers:
  globalping:
    enabled: true
    base_url: "https://mcp.globalping.dev/sse"  # MCP connection endpoint
    oauth_termination_here: false
    enable_dynamic_registration:
      enabled: true
      oauth_discovery_base_url: "https://mcp.globalping.dev"  # OAuth discovery base URL
      client_name: "MagicTunnel-{{hostname}}"
      redirect_uri_template: "http://localhost:{{port}}/auth/callback/{{server_name}}"
      application_type: "web"
      client_uri: "https://github.com/MagicBeansAI/magictunnel"
    transport:
      transport_type: "streamable-http"  # Preferred MCP 2025-06-18 transport
      timeout_seconds: 30
      max_retries: 3
      retry_delay_ms: 1000
    connection:
      pool_size: 5
      idle_timeout_seconds: 300
      reuse_connections: true
      enable_http2: false
      headers: {}

# Network MCP Services
httpServices: {}
sseServices: {}
websocketServices: {}